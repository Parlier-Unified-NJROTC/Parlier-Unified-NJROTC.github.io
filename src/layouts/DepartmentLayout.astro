---
    import Layout from "./Layout.astro";
    import Work from "../components/Work.astro";

    interface Props {
        maintain?:boolean;
    }
    const { maintain = false } = Astro.props;
---
{maintain ? <Work /> : null}

<Layout title="Department" disableHero fancyBackground>
    <!-- Two-image hero (side-by-side on wide screens, stacked on small screens) -->
    <section class="department-hero" aria-hidden="false">
        <div class="hero-grid">
            <div class="hero-item placeholder">
                <div class="hero-placeholder">Hero placeholder — image or content goes here</div>
            </div>
            <div class="hero-item placeholder">
                <div class="hero-placeholder">Secondary placeholder — highlight events or calls to action</div>
            </div>
        </div>
    </section>

    <!-- Content area with markdown-friendly styles -->
    <main class="department-content">
        <div class="markdown-body">
            <slot></slot>
        </div>
    </main>

    <style is:inline>
        /* Decorative bubbles to match site BG visuals */
        .department-hero { position: relative; overflow: visible; }
        .department-hero::before,
        .department-hero::after {
            content: "";
            position: absolute;
            z-index: 0;
            pointer-events: none;
            filter: blur(18px);
            opacity: 0.55;
        }
        .department-hero::before {
            width: 320px; height: 320px; left: -6%; top: -10%;
            background: radial-gradient(circle at 30% 30%, rgba(2,60,113,0.9), rgba(2,60,113,0.05) 60%);
            border-radius: 50%;
            transform: translateZ(0);
        }
        .department-hero::after {
            width: 260px; height: 260px; right: -4%; bottom: -8%;
            background: radial-gradient(circle at 60% 40%, rgba(230,178,32,0.9), rgba(230,178,32,0.03) 60%);
            border-radius: 50%;
            transform: translateZ(0);rgba(2, 60, 113, 0.1)
        }

        /* Small bubbles inside content area for subtle depth */
        .markdown-body { position: relative; }
        .markdown-body::before,
        .markdown-body::after {
            content: "";
            position: absolute;
            z-index: -1;
            pointer-events: none;
            border-radius: 50%;
            filter: blur(14px);
            opacity: 0.32;
        }
        .markdown-body::before { width: 180px; height: 180px; left: -4%; top: 10%; background: radial-gradient(circle at 30% 30%, rgba(2,60,113,0.7), transparent 60%); }
        .markdown-body::after { width: 140px; height: 140px; right: -3%; bottom: 6%; background: radial-gradient(circle at 60% 40%, rgba(230,178,32,0.7), transparent 60%); }

        /* Hero grid */
        .department-hero { margin-bottom: 2.5rem; }
        .hero-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; padding: 0 2rem; }
    .hero-item { position: relative; border-radius: 12px; min-height: 300px; overflow: hidden; background: linear-gradient(180deg, rgba(2,60,113,0.06), rgba(0,0,0,0.12)); display:flex; align-items:center; justify-content:center; }
    .hero-item.placeholder { border: 2px dashed rgba(255,255,255,0.06); }
    .hero-placeholder { color: rgba(255,255,255,0.9); font-weight: 700; font-family: "Montserrat", sans-serif; text-align: center; padding: 20px; }

        /* Markdown-friendly content */
        .department-content { max-width: 1080px; margin: 0 auto 6rem; padding: 0 20px; }
    .markdown-body { background: transparent; color: rgba(255,255,255,0.95); line-height: 1.7; text-align: center; }

    .markdown-body h1, .markdown-body h2, .markdown-body h3, .markdown-body h4 { font-family: "Montserrat", sans-serif; color: #fafaf5; margin-top: 1.25rem; margin-bottom: 0.75rem; text-align: center; }
    .markdown-body h1 { font-size: 2.25rem; }
    .markdown-body h2 { font-size: 1.75rem; }
    /* Paragraphs styled as cards (adapted from the Unit page's content-card) */
    .markdown-body p {
        margin: 0 auto 1.6rem; /* center the card within the content area */
        color: rgba(255,255,255,0.96);
        font-size: 1.03rem;
        line-height: 1.8;
        max-width: 900px;              /* limit card width for readability */
        padding: 20px 22px;
        border-radius: 12px;
        position: relative;
        overflow: hidden;
        background: rgba(2,60,113,0.06);
        border-left: 4px solid rgba(230,178,32,0.14);
        box-shadow: 0 8px 22px rgba(2,6,23,0.35);
        text-align: left;             /* left-align paragraph text */
        hyphens: auto;
        -webkit-font-smoothing: antialiased;
        word-break: break-word;
    }

    /* overlay similar to .card-overlay in unit page */
    .markdown-body p::before {
        content: "";
        position: absolute;
        inset: 0;
        z-index: 0;
        background: linear-gradient(45deg, rgba(2,60,113,0.12), rgba(230,178,32,0.04));
        opacity: 0;
        transition: opacity 0.36s ease;
        pointer-events: none;
    }

    .markdown-body p:hover::before {
        opacity: 1;
    }

    .markdown-body p > * { position: relative; z-index: 1; }

    /* Slightly stronger 'lead' paragraph treatment inside cards */
    .markdown-body p.lead {
        font-size: 1.08rem;
        font-weight: 600;
        color: rgba(255,255,255,0.97);
        background: rgba(230,178,32,0.03);
        border-left-color: rgba(230,178,32,0.35);
    }

    /* Exception: don't render paragraphs inside blockquotes as cards */
    .markdown-body blockquote p {
        background: transparent !important;
        border-left: none !important;
        padding: 0 !important;
        margin: 0 0 1rem !important;
        box-shadow: none !important;
    }

    .markdown-body blockquote p::before { display: none !important; }

    .markdown-body a { color: #e6b220; text-decoration: underline; }
    .markdown-body ul, .markdown-body ol { margin: 0 auto 1rem; display: inline-block; text-align: left; }
    .markdown-body blockquote {
        border-left: 4px solid rgba(230,178,32,0.25);
        padding: 18px 22px;
        background: rgba(230,178,32,0.02);
        color: rgba(255,255,255,0.9);
        margin: 0 auto 1.6rem;
        max-width: 900px; /* match paragraph card width */
        text-align: left;
        border-radius: 12px;
        box-shadow: 0 8px 20px rgba(2,6,23,0.22);
    }
    .blockquote-attrib { display: block; margin-top: 0.8rem; color: rgba(255,255,255,0.75); font-weight: 600; text-align: right; font-style: normal; }
    .markdown-body pre { background: rgba(0,0,0,0.6); padding: 12px; border-radius: 8px; overflow: auto; max-width: 760px; margin: 0 auto 1rem; text-align: left; }
    .markdown-body code { background: rgba(0,0,0,0.6); padding: 2px 6px; border-radius: 4px; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', 'Courier New', monospace; }
    .markdown-body table { margin: 0 auto 1rem; border-collapse: collapse; }
    .markdown-body th, .markdown-body td { border: 1px solid rgba(255,255,255,0.06); padding: 8px 10px; }
    .markdown-body img { max-width: 100%; height: auto; border-radius: 8px; display: block; margin: 0 auto; }

        /* Utility */
        @media (max-width: 880px) {
            .hero-grid { grid-template-columns: 1fr; padding: 0 14px; }
            .hero-item { min-height: 200px; }
            .department-content { margin-bottom: 3rem; }
        }
    </style>
</Layout>